---
# NOTE Rules are framed for the Alertmanager API.
name: AlertToDeployment
start:
  domain: alert
goal:
  domain: k8s
  classes: [Deployment.apps]
result:
  uri:  |-
    /api/v1/namespaces/{{.Alert.Labels.namespace}}/deployments/{{.Alert.Labels.deployment}}
---
name: AlertToNamespace
start:
  domain: alert
goal:
  domain: k8s
  classes: [Namespace.]
result:
  uri:  |-
    /api/v1/namespaces/{{.Alert.Labels.namespace}}
---
name: AlertToPod
start:
  domain: alert
goal:
  domain: k8s
  classes: [Pod.]
result:
  uri:  |-
    /api/v1/namespaces/{{.Alert.Labels.namespace}}/pods/{{.Alert.Labels.pod}}
---
name: AlertToDaemonSet
start:
  domain: alert
goal:
  domain: k8s
  classes: [DaemonSet.]
result:
  uri:  |-
    /api/v1/namespaces/{{.Alert.Labels.namespace}}/daemonsets/{{.Alert.Labels.daemonset}}
---
name: AlertToStatefulSet
start:
  domain: alert
goal:
  domain: k8s
  classes: [StatefulSet.]
result:
  uri:  |-
    /api/v1/namespaces/{{.Alert.Labels.namespace}}/statefulsets/{{.Alert.Labels.statefulset}}
